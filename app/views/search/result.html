
{% macro companyresult(result, term, type) %}
{{ result | log | safe }}
  {% if type == 'company_companieshousecompany' %}
    {% set id = result.company_number %}
  {% else %}
    {% set id = result.id %}
  {% endif %}

  <li class="results-list__result result-list__ch" data_name="{{ result.name }}">
    <h3 class="result-title">
      <a href="/company/{{ type }}/{{ id }}?term={{ term }}">{{result.name | highlightTerm(term) | safe}}</a>
    </h3>

    {% if result.company_number %}
      <div class="meta meta--ch">{{ result.company_number }} - Incorporated on {{ result.incorporation_date | formatDate }}</div>
    {% endif %}

    <div class="meta meta--address">
      {% if result.registered_address_1 %}
        {{result.registered_address_1 | lower | highlightTerm(term) | safe}},
      {% endif %}
      {% if result.registered_address_2 %}
        {{result.registered_address_2 | lower | highlightTerm(term) | safe}},
      {% endif %}
      {% if result.registered_address_town %}
        {{result.registered_address_town | lower | highlightTerm(term) | safe}},
      {% endif %}
      {% if result.registered_address_postcode %}
        <span class="meta--address__postcode">{{result.registered_address_postcode | highlightTerm(term) | safe}}</span>
      {% endif %}
    </div>
  </li>
{% endmacro %}

{% macro contactresult(result, term) %}
  <li class="results-list__result result-list__contact">
    <h3 class="result-title">
      <a href="/contact/{{ result.source_id }}/view?term={{ term }}">
        {{ result.name | highlightTerm(term) | safe }}
      </a>
    </h3>
    <div class="meta">{{ result.company }}</div>
  </li>
{% endmacro %}
